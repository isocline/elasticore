<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid UML Diagram</title>
    <!-- Mermaid CDN -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .mermaid {
            background-color: #f4f4f4;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <h1>Entity Class Diagram</h1>
    <div class="mermaid">
%%{
init: {
"theme": "base",

"logLevel": "info",
"flowchart": {
  "htmlLabels": true,
  "curve": "linear"
},
"sequence": {
  "mirrorActors": true
},
 'themeVariables': {
      'primaryBorderColor': 'gray', 'background': 'white'
},
'class' : { 'layoutDirection':'LR' }
}
}%%

classDiagram
    class Company{
        id: String[PK] //업체아이디
        comGrpCode: CompanyGroupCode //업체그룹코드
        areaCodeList: AreaCode[] //담당지역
        partnerCust: Company //제휴고객사
        comName: String //업체명
        respName: String 
        respTel: String //담당자전화번호
        respZone: String 
        useYn: Indicator //업체활성화여부 Y:활성화 / N:비활성화
        userList: CustUser[] //해당업체 사용자목록
        centerName: String //센터명
        wireTel: String //업체 유선전화
        managementArea: String //관리지역
        insureEmpId: String //보험 담당자
        logoImgUrl: String //로고 Url
    }
    AuditEntity <|-- Company : extend
    Company --o "0..1" Company : partnerCust
    Company --o "0..1" Indicator : useYn
    Company --o "0..*" CustUser : userList
    class CustUser{
        id: String[PK] //사용자 내부아이디
        company: Company //업체
        usrId: String 
        password: String 
        name: String 
        telNo: String 
        workTelNo: String 
        faxNo: String //팩스번호
        email: String //이메일
        deptNm: String //부서
        grade: String //직급
        useYn: Indicator //사용자 활성화여부 Y:활성 / N:차단
        blockReason: String //차단 사유
        authDivision: AuthDivisionType //권한 분류
        claimPartTextInfo: String //청구 파트 목록 텍스트형태
        roleCode: EmpAuthorization //role 코드 정보
        permission: Integer //권한 코드 정보
    }
    AuditEntity <|-- CustUser : extend
    CustUser --o "0..1" Company : company
    CustUser --o "0..1" Indicator : useYn
    CustUser --o "0..1" AuthDivisionType : authDivision
    CustUser --o "0..1" EmpAuthorization : roleCode
    class EmpAuthorization{
        id: String[PK] //권한그룹 내부아이디
        company: Company //업체
        name: String 
        useYn: Indicator //권한 그룹 활성화여부 Y:활성 / N:차단
        permission: Integer //권한 코드 정보
    }
    AuditEntity <|-- EmpAuthorization : extend
    EmpAuthorization --o "0..1" Company : company
    EmpAuthorization --o "0..1" Indicator : useYn
    class CarInfo{
        id: String[PK] //차량 아이디(등록번호)
        carRegNo: String 
        companyId: String 
        contractFileUrl: String //차량등록증 url
    }
    AuditEntity <|-- CarInfo : extend
    class InsureCustUserMap{
        id: Long[PK] //매핑 아이디
        companyId: String //업체 아이디
        custUser: CustUser //캐피탈 담당자
    }
    AuditEntity <|-- InsureCustUserMap : extend
    InsureCustUserMap --o "0..1" CustUser : custUser

    </div>
</body>
</html>
