<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid UML Diagram</title>
    <!-- Mermaid CDN -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .mermaid {
            background-color: #f4f4f4;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <h1>Entity Class Diagram</h1>
    <div class="mermaid">
%%{
init: {
"theme": "base",

"logLevel": "info",
"flowchart": {
  "htmlLabels": true,
  "curve": "linear"
},
"sequence": {
  "mirrorActors": true
},
 'themeVariables': {
      'primaryBorderColor': 'gray', 'background': 'white'
},
'class' : { 'layoutDirection':'LR' }
}
}%%

classDiagram
    class AuditEntity{
        createDate: java.time.LocalDateTime 
        createdBy: String 
        lastModifiedBy: String 
        lastModifiedDate: java.time.LocalDateTime 
    }
    class CommonCode{
        codeSn: Long //코드 sequence
        codeId: String 
        codeNm: String 
        codeValue: String 
        codeOptn1: String //코드옵션1
        codeOptn2: String //코드옵션2
        codeOptn3: String //코드옵션3
        codeDepth: Integer //코드 depth
        codeOrder: Integer //순서 정보
    }
    AuditEntity <|-- CommonCode : extend
    class Company{
        id: String //업체아이디
        comGrpCode: CompanyGroupCode //업체그룹코드
        areaCodeList: AreaCode[] //담당지역
        partnerCust: CommonCode //제휴고객사
        comName: String //업체명
        respName: String 
        respTel: String //담당자전화번호
        respZone: String 
        useYn: Indicator //업체활성화여부 Y:활성화 / N:비활성화
        userList: CustUser[] //해당업체 사용자목록
    }
    AuditEntity <|-- Company : extend
    Company --o "0..*" AreaCode : areaCodeList
    Company --o "0..*" CustUser : userList
    class CustUser{
        id: String //사용자 내부아이디
        company: Company //업체
        usrId: String 
        password: String 
        name: String 
        telNo: String 
        email: String //이메일
        deptNm: String //부서
        grade: String //직급
    }
    AuditEntity <|-- CustUser : extend
    class LoanCarProcess{
        lcpCode: Long //순번 아이디
        rentCompany: Company //렌트카 업체
        processType: RentCarProcessType //상태 프로세스
        applyDate: String //적용일자 yyyyMMdd
        applyTime: String //적용일시 HHmmss
        callHistory: CallHistory //통화내역
        memo: String //기타메모(담당자처리내용)
        loanCarMasterId: String //대차 마스터 번호
        custReqMemo: String //고객요청사항
        reqCarName: String //고객 요청 차량명
        reqCarNo: String //고객 요청 차량번호
        insureYN: Indicator //자차보험 서비스제공여부
    }
    AuditEntity <|-- LoanCarProcess : extend
    class CallHistory{
        callCode: Long 
        loanCarProcess: LoanCarProcess //관련 작업
        callContent: String //통화내용
        callDate: String //통화일자 yyyyMMdd
        callTime: String //통화시간 HHmmss
    }
    AuditEntity <|-- CallHistory : extend
    class LoanCar{
        id: String //내부 접수번호
        lcCode: String //외부(마스터) 접수번호
        statusType: StatusType //대차작업상태
        empNo: String //요청상담사
        rentKind: RentKindType //사고유형
        rentCarCode: String //대차차량코드
        rentCarNm: String //대차차량명
        rentCost: String //대차비용
        insurNm: String //보험사
        indeMoney: String //면책금
        regDate: String //신청일 yyyyMMdd
        regTime: String //신청시간 hhmi
        joinCode: String //제휴사
        custNm: String 
        custTel: String 
        vipYn: Indicator //VIP여부
        etcDesc: String //특이사항
        reqDate: String //요청일자 yyyymmdd
        reqTime: String //요청시간 hhmi
        reqZip: String //요청장소우편번호
        reqAddr: String //요청장소주소
        reqDaddr: String //요청장소상세주소
        consignYn: Indicator //차량탁송여부 Y:신청 / N:미신청
        consignOfiiceNm: String //탁송장소(공장명)
        consignZip: String //탁송장소(우편번호)
        consignAddr: String //탁송장소(주소)
        consignDaddr: String //탁송장소(상세주소)
        consignTel: String //탁송장소(전화번호)
        lcReason: String //대차미진행 사유
        smsParseType: Indicator //문자파싱 성공여부
        content: String //문자내용(문자처리시)
        partnerCust: CommonCode //제휴고객사
        partnerEtcNm: String //기타 제휴 고객사명
        rentCompany: Company //담당 렌트카 업체
        processHistory: LoanCarProcess[] 
    }
    AuditEntity <|-- LoanCar : extend
    LoanCar --o "0..*" LoanCarProcess : processHistory

    </div>
</body>
</html>
