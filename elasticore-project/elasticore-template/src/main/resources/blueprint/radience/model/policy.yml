## enumeration
enumeration:
  CurrencyCode:
    fields:
      code: string
      unit: string

    enum:
      KRW: 410,won
      USD: 840,dollar
      CAD: 124,dollar

## model
entity:
  CheckDTO:
    meta: entity @template(BaseModel,TES)
  fields:
    name: string

  BaseModel:
    meta: template
    fields:
      updateDate: string @date
      createdBy: string @userId


  Party:
    meta: entity @abstract

    fields:
      partyKey: long @id @sequence
      partyType: string @discriminator
      preferCuurencyCode: CurrencyCode


  Person:
    meta: entity @extend(Party) @rollup(Person)
    fields:
      attainedAge: integer
      dateOfBirth: string @date
      birthLocation: string
      deathRegistrationUserId: string

  Organization:
    meta: entity @extend(Party) @abstract
    fields:
      organizationStatusKey: string
      estabDate: string
      numOwners: integer

  Company:
    meta: entity @extend(Organization) @rollup(Compay)
    fields:
      onlineProcessingDate: string
      contractIssueStartDay: string
      numberOfHoldDays: integer
      age: int


repository:
  Person:
    methods:
      - id: test
        query: select m from Person m where attainedAge=:attainedAge and deathRegistrationUserId=:deathRegistrationUserId


      - id: test2
        query: select m from Person m where dateOfBirth = :dateOfBirth
        sql2: |
          select m
          from person m,Department d,office c
          where
            d.name = :name --if
            d.name = :name --if

        sql:
          select: Person
          from: Person p, Department d
          where:
            - (
            - ?attainedAge=:attainedAge
            - ?deathRegistrationUserId=:deathRegistrationUserId
            - ?department.name = :name
            - ) OR (
            - ?deathRegistrationUserId=:deathRegistrationUserId
            - )

