
entity:
  domain: core

  info:
    name: Elasticore templete
    desc: |
      blueprint for elasticore
    config:
      lang: java


  items:
    CoreParty:
      info:
        name: CoreParty

      config: -abstract:true -rollup:true

      properties:
        oid:
          type: string
          size: 100
          label: object id
          isPrimary: true
          keyGenerator: liquid.core.key.OidGenerator

        oid2: string -size:100 -label:'object id' -isPrimary:true
        oid2-max: 12
        oid2-length: 100

        parentPath:
          type: string
          label: parent path

      repository:
        listPersonByType:
          parameters:
            type: string
            businessKind: string
          response: int
          Query:
            value: select * from query where type = :type
            nativeQuery: true


    Person:
      config: -extend:CoreParty
      properties:
        age2: int -min:0 -max:150 -execlusiveMax:true
        age2-min: 0
        age2-max: 150
        age2-exclutesiveMax: true

        age:
          type: int
          min: 0
          max: 150
          exclusiveMax: true

        addr1: string
        addr2_2: string -minLength:3 -maxLength:7
        addr2:
          type: string
          minSize: 3
          size: 7

        currency2: int -max:1000000

        currency:
          type: int
          multipleOf: 10
          max: 100000000

        email:
          type: string
          regx: '^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$'

        child:
          type: array
          contains:
            type: int
            min: 0
          maxContains: 2

        registDate: date
        attendAge: int -derived=true -func=px:calc(age, regitst)

    Company:
      extend: CoreParty
      properties:
        compRegId: String
        comRegDate: datetime




